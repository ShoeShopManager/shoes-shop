<div class="container mt-[83px]">
    <div>
        <!-- Breadcumbs -->
        <div class="breadcrumbs text-sm mb-5">
            <ul>
                <li><a href="/">Trang chủ</a></li>
                <li><a href="/product">Danh sách sản phẩm</a></li>
                <li><%= product ? product.tenSanPham : "Unknown Name" %></li>
            </ul>
        </div>
    </div>
    <div class="grid grid-cols-12 mt-5 gap-10">
        <section class="col-span-7">
            <div class="swiper swiper-product-images [&_.swiper-slide]:rounded-2xl">
                <div class="swiper-wrapper h-[500px]">
                    <% if (product && product.danhSachHinhAnh.length > 0) { %>
                        <% product.danhSachHinhAnh.forEach((image, index) => { %>
                            <div class="swiper-slide">
                                <img
                                    class="object-cover h-full w-full rounded-2xl"
                                    src="<%= image %>"
                                    alt=""
                                />
                            </div>
                        <% }) 
                    } %>
                </div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>
        </section>
        <section class="col-span-5">
            <div>
                <h1 class="text-3xl font-bold"><%= product ? product.tenSanPham : "Unknown Name" %></h1>
                
                <p class="mt-2 text-gray-500"><%= product ? product.moTaSanPham : "Unknown Description" %></p>

                <div class="mt-7">
                    <h2 class="text-lg font-semibold mb-2">Kích cỡ</h2>
                    <ul class="grid grid-cols-4 gap-3">
                        <% if (product && product.danhSachKichCo.length > 0) { %>
                            <% product.danhSachKichCo.forEach((size, index) => { %>
                                <li class="text-center border p-2 rounded-xl">
                                    <p class="font-semibold mb-2"><%= size.maKichCo.tenKichCo %></p>

                                    <span>
                                        <%= formatVNCurrency(size.giaKichCo) %>
                                    </span>
                                </li>
                            <% }) 
                        } %>
                    </ul>
                </div>

                <div class="mt-7">
                    <h2 class="text-lg font-semibold mb-2">Chọn số lượng</h2>
                    <div class="flex items-center h-[50px] text-neutral-700">
                        <button class="w-[50px] h-full border rounded-tl-xl rounded-bl-xl decrease decrease-btn">
                            <i class='bx bx-minus'></i>
                        </button>
                        <div class="inline-flex justify-center items-center w-[50px] h-full border-t border-b quantity-select-value">
                            1
                        </div>
                        <button class="w-[50px] h-full border rounded-tr-xl rounded-br-xl increase increase-btn">
                            <i class='bx bx-plus'></i>
                        </button>
                    </div>
                </div>

                <p class="mt-5">
                    <span class="text-lg font-semibold">Giá mua:</span> &nbsp;
                    <span class="text-xl font-bold text-primary ">
                        9.000.000 đ
                    </span>
                </p>

                <div>
                    <button class="mt-7 w-full bg-primary text-white py-3 rounded-full font-semibold">
                        Thêm vào giỏ hàng
                    </button>
                </div>
            </div>
        </section>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
    var swiper = new Swiper(".swiper-product-images", {
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
        },
    });
</script>
<script>
    const increaseBtn = document.querySelectorAll('.increase-btn')
    const decreaseBtn = document.querySelectorAll('.decrease-btn')
    const selectedQuantity = document.querySelectorAll('.quantity-select-value')

    increaseBtn.forEach(btn => {
        btn.onclick = function () {
            selectedQuantity.forEach(selectValue => {
                selectValue.innerHTML++
            })
        }
    })

    decreaseBtn.forEach(btn => {
        btn.onclick = function () {
            selectedQuantity.forEach(selectValue => {
                if (selectValue.innerHTML > 1) {
                    selectValue.innerHTML--
                }
            })
        }
    })
</script>